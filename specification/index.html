<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Specification of International Standard Content Codes"><meta name=author content="Titusz Pan"><link href=http://iscc.codes/specification/ rel=canonical><link rel=icon href=../images/favicon.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-8.1.11"><title>ISCC - Specification - ISCC - Content Codes</title><link rel=stylesheet href=../assets/stylesheets/main.50e68009.min.css><link rel=stylesheet href=../assets/stylesheets/palette.e6a45f82.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Readex+Pro:300,400,400i,700%7CJetBrains+Mono&display=fallback"><style>:root{--md-text-font:"Readex Pro";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../stylesheets/custom.css><script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script defer data-domain=iscc.codes src=https://stats.iscc.codes/js/plausible.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#iscc-specification-v1x class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="ISCC - Content Codes" class="md-header__button md-logo" aria-label="ISCC - Content Codes" data-md-component=logo> <img src=../images/logo-white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ISCC - Content Codes </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> ISCC - Specification </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/iscc/iscc-specs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> iscc/iscc-specs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="ISCC - Content Codes" class="md-nav__button md-logo" aria-label="ISCC - Content Codes" data-md-component=logo> <img src=../images/logo-white.svg alt=logo> </a> ISCC - Content Codes </label> <div class=md-nav__source> <a href=https://github.com/iscc/iscc-specs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> iscc/iscc-specs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../features/ class=md-nav__link> Features </a> </li> <li class=md-nav__item> <a href=../concept/ class=md-nav__link> Concept </a> </li> <li class=md-nav__item> <a href=./ class=md-nav__link> Specification </a> </li> <li class=md-nav__item> <a href=../resources/ class=md-nav__link> Resources </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Versions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Versions data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Versions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Version 1.x <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Version 1.x </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#abstract class=md-nav__link> Abstract </a> </li> <li class=md-nav__item> <a href=#note-to-readers class=md-nav__link> Note to Readers </a> </li> <li class=md-nav__item> <a href=#about-this-document class=md-nav__link> About this Document </a> </li> <li class=md-nav__item> <a href=#conventions-and-terminology class=md-nav__link> Conventions and Terminology </a> </li> <li class=md-nav__item> <a href=#definitions class=md-nav__link> Definitions </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#iscc-structure class=md-nav__link> ISCC Structure </a> </li> <li class=md-nav__item> <a href=#iscc-components class=md-nav__link> ISCC Components </a> <nav class=md-nav aria-label="ISCC Components"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#component-types class=md-nav__link> Component Types </a> <nav class=md-nav aria-label="Component Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-of-component-headers class=md-nav__link> List of Component Headers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#meta-code-component class=md-nav__link> Meta-Code Component </a> <nav class=md-nav aria-label="Meta-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inputs-to-meta-code-function class=md-nav__link> Inputs to Meta-Code function </a> </li> <li class=md-nav__item> <a href=#generate-meta-code class=md-nav__link> Generate Meta-Code </a> </li> <li class=md-nav__item> <a href=#dealing-with-meta-code-collisions class=md-nav__link> Dealing with Meta-Code collisions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-code-component class=md-nav__link> Content-Code Component </a> <nav class=md-nav aria-label="Content-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generic-media-types class=md-nav__link> Generic Media Types </a> </li> <li class=md-nav__item> <a href=#content-code-text class=md-nav__link> Content-Code-Text </a> </li> <li class=md-nav__item> <a href=#content-code-image class=md-nav__link> Content-Code-Image </a> </li> <li class=md-nav__item> <a href=#content-code-mixed class=md-nav__link> Content-Code-Mixed </a> </li> <li class=md-nav__item> <a href=#partial-content-flag-pcf class=md-nav__link> Partial Content Flag (PCF) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-code-component class=md-nav__link> Data-Code Component </a> <nav class=md-nav aria-label="Data-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generate-data-code class=md-nav__link> Generate Data-Code </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#instance-code-component class=md-nav__link> Instance-Code Component </a> <nav class=md-nav aria-label="Instance-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generate-instance-code class=md-nav__link> Generate Instance-Code </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-metadata class=md-nav__link> ISCC Metadata </a> <nav class=md-nav aria-label="ISCC Metadata"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-metadata class=md-nav__link> Basic Metadata </a> </li> <li class=md-nav__item> <a href=#extended-metadata class=md-nav__link> Extended Metadata </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-registration class=md-nav__link> ISCC Registration </a> <nav class=md-nav aria-label="ISCC Registration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blockchain-registry class=md-nav__link> Blockchain Registry </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-embedding class=md-nav__link> ISCC Embedding </a> </li> <li class=md-nav__item> <a href=#iscc-uri-scheme class=md-nav__link> ISCC URI Scheme </a> <nav class=md-nav aria-label="ISCC URI Scheme"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#uri-syntax class=md-nav__link> URI Syntax </a> </li> <li class=md-nav__item> <a href=#uri-example class=md-nav__link> URI Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#procedures-algorithms class=md-nav__link> Procedures &amp; Algorithms </a> <nav class=md-nav aria-label="Procedures & Algorithms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base58-iscc class=md-nav__link> Base58-ISCC </a> <nav class=md-nav aria-label=Base58-ISCC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encode class=md-nav__link> encode </a> </li> <li class=md-nav__item> <a href=#decode class=md-nav__link> decode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-normalization class=md-nav__link> Content Normalization </a> <nav class=md-nav aria-label="Content Normalization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#text_trim class=md-nav__link> text_trim </a> </li> <li class=md-nav__item> <a href=#text_normalize class=md-nav__link> text_normalize </a> </li> <li class=md-nav__item> <a href=#image_normalize class=md-nav__link> image_normalize </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feature-hashing class=md-nav__link> Feature Hashing </a> <nav class=md-nav aria-label="Feature Hashing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#similarity_hash class=md-nav__link> similarity_hash </a> </li> <li class=md-nav__item> <a href=#minimum_hash class=md-nav__link> minimum_hash </a> </li> <li class=md-nav__item> <a href=#image_hash class=md-nav__link> image_hash </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-defined-chunking class=md-nav__link> Content Defined Chunking </a> <nav class=md-nav aria-label="Content Defined Chunking"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data_chunks class=md-nav__link> data_chunks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conformance-testing class=md-nav__link> Conformance Testing </a> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> License </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://github.com/iscc/iscc-specs/blob/version-1.0/docs/specification.md class=md-nav__link> Version 1.0 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> License </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#abstract class=md-nav__link> Abstract </a> </li> <li class=md-nav__item> <a href=#note-to-readers class=md-nav__link> Note to Readers </a> </li> <li class=md-nav__item> <a href=#about-this-document class=md-nav__link> About this Document </a> </li> <li class=md-nav__item> <a href=#conventions-and-terminology class=md-nav__link> Conventions and Terminology </a> </li> <li class=md-nav__item> <a href=#definitions class=md-nav__link> Definitions </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#iscc-structure class=md-nav__link> ISCC Structure </a> </li> <li class=md-nav__item> <a href=#iscc-components class=md-nav__link> ISCC Components </a> <nav class=md-nav aria-label="ISCC Components"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#component-types class=md-nav__link> Component Types </a> <nav class=md-nav aria-label="Component Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-of-component-headers class=md-nav__link> List of Component Headers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#meta-code-component class=md-nav__link> Meta-Code Component </a> <nav class=md-nav aria-label="Meta-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inputs-to-meta-code-function class=md-nav__link> Inputs to Meta-Code function </a> </li> <li class=md-nav__item> <a href=#generate-meta-code class=md-nav__link> Generate Meta-Code </a> </li> <li class=md-nav__item> <a href=#dealing-with-meta-code-collisions class=md-nav__link> Dealing with Meta-Code collisions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-code-component class=md-nav__link> Content-Code Component </a> <nav class=md-nav aria-label="Content-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generic-media-types class=md-nav__link> Generic Media Types </a> </li> <li class=md-nav__item> <a href=#content-code-text class=md-nav__link> Content-Code-Text </a> </li> <li class=md-nav__item> <a href=#content-code-image class=md-nav__link> Content-Code-Image </a> </li> <li class=md-nav__item> <a href=#content-code-mixed class=md-nav__link> Content-Code-Mixed </a> </li> <li class=md-nav__item> <a href=#partial-content-flag-pcf class=md-nav__link> Partial Content Flag (PCF) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-code-component class=md-nav__link> Data-Code Component </a> <nav class=md-nav aria-label="Data-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generate-data-code class=md-nav__link> Generate Data-Code </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#instance-code-component class=md-nav__link> Instance-Code Component </a> <nav class=md-nav aria-label="Instance-Code Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generate-instance-code class=md-nav__link> Generate Instance-Code </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-metadata class=md-nav__link> ISCC Metadata </a> <nav class=md-nav aria-label="ISCC Metadata"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-metadata class=md-nav__link> Basic Metadata </a> </li> <li class=md-nav__item> <a href=#extended-metadata class=md-nav__link> Extended Metadata </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-registration class=md-nav__link> ISCC Registration </a> <nav class=md-nav aria-label="ISCC Registration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blockchain-registry class=md-nav__link> Blockchain Registry </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iscc-embedding class=md-nav__link> ISCC Embedding </a> </li> <li class=md-nav__item> <a href=#iscc-uri-scheme class=md-nav__link> ISCC URI Scheme </a> <nav class=md-nav aria-label="ISCC URI Scheme"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#uri-syntax class=md-nav__link> URI Syntax </a> </li> <li class=md-nav__item> <a href=#uri-example class=md-nav__link> URI Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#procedures-algorithms class=md-nav__link> Procedures &amp; Algorithms </a> <nav class=md-nav aria-label="Procedures & Algorithms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base58-iscc class=md-nav__link> Base58-ISCC </a> <nav class=md-nav aria-label=Base58-ISCC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encode class=md-nav__link> encode </a> </li> <li class=md-nav__item> <a href=#decode class=md-nav__link> decode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-normalization class=md-nav__link> Content Normalization </a> <nav class=md-nav aria-label="Content Normalization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#text_trim class=md-nav__link> text_trim </a> </li> <li class=md-nav__item> <a href=#text_normalize class=md-nav__link> text_normalize </a> </li> <li class=md-nav__item> <a href=#image_normalize class=md-nav__link> image_normalize </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feature-hashing class=md-nav__link> Feature Hashing </a> <nav class=md-nav aria-label="Feature Hashing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#similarity_hash class=md-nav__link> similarity_hash </a> </li> <li class=md-nav__item> <a href=#minimum_hash class=md-nav__link> minimum_hash </a> </li> <li class=md-nav__item> <a href=#image_hash class=md-nav__link> image_hash </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#content-defined-chunking class=md-nav__link> Content Defined Chunking </a> <nav class=md-nav aria-label="Content Defined Chunking"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data_chunks class=md-nav__link> data_chunks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conformance-testing class=md-nav__link> Conformance Testing </a> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> License </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/iscc/iscc-specs/edit/master/docs/specification.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=iscc-specification-v1x><abbr title="International Standard Content Code">ISCC</abbr> - Specification v1.x<a class=headerlink href=#iscc-specification-v1x title="Permanent link">#</a></h1> <p><strong>Last revised:</strong> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2022-02-14 13:35:17</span></p> <h2 id=abstract>Abstract<a class=headerlink href=#abstract title="Permanent link">#</a></h2> <p>The <strong>International Standard Content Code (<abbr title="International Standard Content Code">ISCC</abbr>)</strong>, is an open and decentralized digital media identifier. An <abbr title="International Standard Content Code">ISCC</abbr> can be created from digital content and its basic metadata by anybody who follows the procedures of the <abbr title="International Standard Content Code">ISCC</abbr> specification or by using open source software that supports <abbr title="International Standard Content Code">ISCC</abbr> creation <a href=#conformance-testing>conforming to the <abbr title="International Standard Content Code">ISCC</abbr> specification</a>.</p> <h2 id=note-to-readers>Note to Readers<a class=headerlink href=#note-to-readers title="Permanent link">#</a></h2> <p>For public discussion of issues for this specification, please use the Github issue tracker: <a href=https://github.com/iscc/iscc-specs/issues>https://github.com/iscc/iscc-specs/issues</a>.</p> <p>If you want to chat with developers, join us on Telegram at <a href=https://t.me/iscc_dev>https://t.me/iscc_dev</a>.</p> <p>You can find the latest version of this specification at <a href=http://iscc.codes/specification/ >http://iscc.codes/specification/</a>.</p> <p>Public review, discussion and contributions are welcome.</p> <h2 id=about-this-document>About this Document<a class=headerlink href=#about-this-document title="Permanent link">#</a></h2> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This document is out of date an will be updated together with <abbr title="International Standard Content Code">ISCC</abbr> v1.5.0 release. Please follow current development of the core reference implementation at <a href=https://core.iscc.codes>https://core.iscc.codes</a></p> </div> <div class="admonition note"> <p class=admonition-title>Document Version</p> <p>While there is already a <a href=https://github.com/iscc/iscc-specs/blob/version-1.0/docs/specification.md>Version 1.0</a> spec, we are still expecting backward incompatible changes until <strong>Version 2.0</strong>. Parts of this specification may become stable earlier. We will document this during minor releases. We encourage partners to follow development and test, implement, and give feedback based on the latest (this) version of the <abbr title="International Standard Content Code">ISCC</abbr> Specification.</p> </div> <p>This document proposes an open and vendor neutral <abbr title="International Standard Content Code">ISCC</abbr> standard and describes the technical procedures to create and manage <abbr title="International Standard Content Code">ISCC</abbr> identifiers. The first version of this document resulted from a prototyping project by the <a href=https://content-blockchain.org>Content Blockchain Project</a> and received funding from the <a href=https://digitalnewsinitiative.com/dni-projects/content-blockchain-project/ >Google Digital News Initiative (DNI)</a>. The content of this document results from a voluntary effort of the authors with an open and public consensus process.</p> <h2 id=conventions-and-terminology>Conventions and Terminology<a class=headerlink href=#conventions-and-terminology title="Permanent link">#</a></h2> <p>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href=https://tools.ietf.org/html/rfc2119>[RFC 2119]</a>.</p> <h2 id=definitions>Definitions<a class=headerlink href=#definitions title="Permanent link">#</a></h2> <dl> <dt>Basic Metadata:</dt> <dd>Minimal set of <abbr title="International Standard Content Code">ISCC</abbr>-specific top-level metadata that applications SHOULD support.</dd> <dt>Bound Metadata:</dt> <dd>Metadata that is utilized during generation of the <abbr title="International Standard Content Code">ISCC</abbr>. A change of this <strong>bound metadata</strong> may therefore impact the derived <abbr title="International Standard Content Code">ISCC</abbr>..</dd> <dt>Extended Metadata:</dt> <dd>Industry and application-specific metadata attached to an <abbr title="International Standard Content Code">ISCC</abbr>.</dd> <dt>Character:</dt> <dd>Throughout this specification a <strong><abbr title="A character is defined as one Unicode code point">character</abbr></strong> is meant to be interpreted as one Unicode code point. This also means that due to the structure of Unicode a <abbr title="A character is defined as one Unicode code point">character</abbr> is not necessarily a full glyph but might be a combining accent or similar.</dd> <dt>Digital Media Object:</dt> <dd>A blob of raw bytes with some media type specific encoding.</dd> <dt>Extended Metadata:</dt> <dd>Metadata that is not encoded within the <abbr title="International Standard Content Code">ISCC</abbr> Meta-Code but may be supplied together with the <abbr title="International Standard Content Code">ISCC</abbr>.</dd> <dt>Generic Media Type:</dt> <dd>A basic content type such as plain text in a normalized and <em>generic</em> (<a href=https://en.wikipedia.org/wiki/UTF-8>UTF-8</a>) encoding format.</dd> <dt><abbr title="International Standard Content Code">ISCC</abbr>:</dt> <dd>International Standard Content Code</dd> <dt><abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr>:</dt> <dd>The printable text encoded representation of an <abbr title="International Standard Content Code">ISCC</abbr></dd> <dt><abbr title="Raw binary data of an ISCC">ISCC Digest</abbr>:</dt> <dd>The raw binary data of an <abbr title="International Standard Content Code">ISCC</abbr></dd> </dl> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">#</a></h2> <p>An <abbr title="International Standard Content Code">ISCC</abbr> permanently identifies content at multiple levels of <em>granularity</em>. It is algorithmically generated from basic metadata and the contents of a digital media object. It is designed for being registered and stored on a public and decentralized blockchain. An <abbr title="International Standard Content Code">ISCC</abbr> for a media object can be created and registered by the content author, a publisher, a service provider or anybody else. By itself the <abbr title="International Standard Content Code">ISCC</abbr> and its basic registration on a blockchain does not make any statement or claim about authorship or ownership of the identified content.</p> <h2 id=iscc-structure><abbr title="International Standard Content Code">ISCC</abbr> Structure<a class=headerlink href=#iscc-structure title="Permanent link">#</a></h2> <p>A <strong>Fully Qualified <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr></strong> is a fixed size sequence of <strong>36 bytes (288 bits)</strong> assembled from multiple sub-components. The <strong>Fully Qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr></strong> is a <strong>52 <abbr title="A character is defined as one Unicode code point">character</abbr></strong> encoded printable string representation of a complete <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr>. This is a high-level overview of the <abbr title="International Standard Content Code">ISCC</abbr> creation process:</p> <p><img alt=iscc-creation-process src=../images/iscc-creation-process.svg></p> <h2 id=iscc-components><abbr title="International Standard Content Code">ISCC</abbr> Components<a class=headerlink href=#iscc-components title="Permanent link">#</a></h2> <p>The <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr> is built from multiple self-describing 72-bit components:</p> <table> <thead> <tr> <th align=left>Components:</th> <th align=left>Meta-Code</th> <th align=left>Content-Code</th> <th align=left>Data-Code</th> <th align=left>Instance-Code</th> </tr> </thead> <tbody> <tr> <td align=left><strong>Context:</strong></td> <td align=left>Intangible creation</td> <td align=left>Content similarity</td> <td align=left>Data similarity</td> <td align=left>Data checksum</td> </tr> <tr> <td align=left><strong>Input:</strong></td> <td align=left>Metadata</td> <td align=left>Extracted content</td> <td align=left>Raw data</td> <td align=left>Raw data</td> </tr> <tr> <td align=left><strong>Algorithms:</strong></td> <td align=left>Similarity Hash</td> <td align=left>Type specific</td> <td align=left><abbr title="Content defined chunking">CDC</abbr>, Minimum Hash</td> <td align=left>Hash Tree</td> </tr> <tr> <td align=left><strong>Size:</strong></td> <td align=left>72 bits</td> <td align=left>72 bits</td> <td align=left>72 bits</td> <td align=left>72 bits</td> </tr> </tbody> </table> <p><abbr title="International Standard Content Code">ISCC</abbr> components MAY be used separately or in combination by applications for various purposes. Individual components MUST be presented as 13-<abbr title="A character is defined as one Unicode code point">character</abbr> <a href=#base58-iscc>base58-iscc</a> encoded strings to end users and MAY be prefixed with their component name.</p> <div class="admonition example"> <p class=admonition-title>Single component <abbr title="International Standard Content Code">ISCC</abbr>-Code (13 characters)</p> <p><strong>Meta-Code</strong>: CCDFPFc87MhdT</p> </div> <p>Combinations of components MUST include the Meta-Code component and MUST be ordered as <strong>Meta-Code</strong>, <strong>Content-Code</strong>, <strong>Data-Code</strong>, and <strong>Instance-Code</strong>. Individual components MAY be skipped and SHOULD be separated with hyphens. A combination of components SHOULD be prefixed with "<abbr title="International Standard Content Code">ISCC</abbr>".</p> <div class="admonition example"> <p class=admonition-title>Combination of <abbr title="International Standard Content Code">ISCC</abbr>-Code components</p> <p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCPktvj3dVoVa-CTPCWTpGPMaLZ-CDL6QsUZdZzog</p> </div> <p>A <strong>Fully Qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr></strong> is an ordered sequence of Meta-Code, Content-Code, Data-Code, and Instance-Code codes. It SHOULD be prefixed with <abbr title="International Standard Content Code">ISCC</abbr> and MAY be separated by hyphens.</p> <div class="admonition example"> <p class=admonition-title>Fully Qualified <abbr title="International Standard Content Code">ISCC</abbr>-Code (52 characters)</p> <p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDFPFc87MhdTCTWAGYJ9HZGj1CDhydSjutScgECR4GZ8SW5a7uc</p> </div> <div class="admonition example"> <p class=admonition-title>Fully Qualified <abbr title="International Standard Content Code">ISCC</abbr>-Code with hyphens (55 characters)</p> <p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDFPFc87MhdT-CTWAGYJ9HZGj1-CDhydSjutScgE-CR4GZ8SW5a7uc</p> </div> <h3 id=component-types>Component Types<a class=headerlink href=#component-types title="Permanent link">#</a></h3> <p>Each component has the same basic structure of a <strong>1-byte header</strong> and a <strong>8-byte body</strong> section.</p> <p>The 1-byte header of each component is subdivided into 2 nibbles (4 bits). The first nibble specifies the component type while the second nibble is component specific.</p> <p>The header only needs to be carried in the encoded representation. As similarity searches across different components are of little use, the type-information contained in the header of each component can be safely ignored after an <abbr title="International Standard Content Code">ISCC</abbr> has been decomposed and internally typed by an application.</p> <h4 id=list-of-component-headers>List of Component Headers<a class=headerlink href=#list-of-component-headers title="Permanent link">#</a></h4> <table> <thead> <tr> <th align=left>Component</th> <th align=left>Nibble-1</th> <th align=left>Nibble-2</th> <th align=left>Byte</th> <th>Code</th> </tr> </thead> <tbody> <tr> <td align=left><strong>Meta-Code</strong></td> <td align=left>0000</td> <td align=left>0000 - Reserved</td> <td align=left>0x00</td> <td>CC</td> </tr> <tr> <td align=left><strong>Content-Code-Text</strong></td> <td align=left>0001</td> <td align=left>0000 - Content Type Text</td> <td align=left>0x10</td> <td>CT</td> </tr> <tr> <td align=left><strong>Content-Code-Text <abbr title="Partial Content Flag">PCF</abbr></strong></td> <td align=left>0001</td> <td align=left>0001 - Content Type Text + <abbr title="Partial Content Flag">PCF</abbr></td> <td align=left>0x11</td> <td>Ct</td> </tr> <tr> <td align=left><strong>Content-Code-Image</strong></td> <td align=left>0001</td> <td align=left>0010 - Content Type Image</td> <td align=left>0x12</td> <td>CY</td> </tr> <tr> <td align=left><strong>Content-Code-Image <abbr title="Partial Content Flag">PCF</abbr></strong></td> <td align=left>0001</td> <td align=left>0011 - Content Type Image + <abbr title="Partial Content Flag">PCF</abbr></td> <td align=left>0x13</td> <td>Ci</td> </tr> <tr> <td align=left><em>Content-Code-Audio</em></td> <td align=left>0001</td> <td align=left>0100 - Content Type Audio</td> <td align=left>0x14</td> <td>CA</td> </tr> <tr> <td align=left><em>Content-Code-Audio <abbr title="Partial Content Flag">PCF</abbr></em></td> <td align=left>0001</td> <td align=left>0101 - Content Type Audio + <abbr title="Partial Content Flag">PCF</abbr></td> <td align=left>0x15</td> <td>Ca</td> </tr> <tr> <td align=left><em>Content-Code-Video</em></td> <td align=left>0001</td> <td align=left>0110 - Content Type Video</td> <td align=left>0x16</td> <td>CV</td> </tr> <tr> <td align=left><em>Content-Code-Video <abbr title="Partial Content Flag">PCF</abbr></em></td> <td align=left>0001</td> <td align=left>0111 - Content Type Video + <abbr title="Partial Content Flag">PCF</abbr></td> <td align=left>0x17</td> <td>Cv</td> </tr> <tr> <td align=left><strong>Content-Code-Mixed</strong></td> <td align=left>0001</td> <td align=left>1000 - Content Type Mixed</td> <td align=left>0x18</td> <td>CM</td> </tr> <tr> <td align=left><strong>Content-Code Mixed <abbr title="Partial Content Flag">PCF</abbr></strong></td> <td align=left>0001</td> <td align=left>1001 - Content Type Mixed + <abbr title="Partial Content Flag">PCF</abbr></td> <td align=left>0x19</td> <td>Cm</td> </tr> <tr> <td align=left><strong>Data-Code</strong></td> <td align=left>0010</td> <td align=left>0000 - Reserved</td> <td align=left>0x20</td> <td>CD</td> </tr> <tr> <td align=left><strong>Instance-Code</strong></td> <td align=left>0011</td> <td align=left>0000 - Reserved</td> <td align=left>0x30</td> <td>CR</td> </tr> </tbody> </table> <p>The body section of each component is specific to the component and always 8-bytes and can thus be fit into a 64-bit integer for efficient data processing. The following sections give an overview of how the different components work and how they are generated.</p> <h3 id=meta-code-component>Meta-Code Component<a class=headerlink href=#meta-code-component title="Permanent link">#</a></h3> <p>The Meta-Code component starts with a 1-byte header <code>00000000</code>. The first nibble <code>0000</code> indicates that this is a Meta-Code component type. The second nibble is reserved for future extended features of the Meta-Code.</p> <p>The Meta-Code body is built from a 64-bit <code>similarity_hash</code> over 4-<abbr title="A character is defined as one Unicode code point">character</abbr> n-grams of the basic metadata of the content to be identified. The basic metadata supplied to the Meta-Code generating function is assumed to be UTF-8 encoded. Errors that occur during the decoding of such a byte string input to a native Unicode MUST terminate the process and must not be silenced. An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>meta_id</code> function that accepts minimal and generic metadata and returns a <a href=#base58-iscc>Base58-<abbr title="International Standard Content Code">ISCC</abbr> encoded</a> Meta-Code component and trimmed metadata.</p> <h4 id=inputs-to-meta-code-function>Inputs to Meta-Code function<a class=headerlink href=#inputs-to-meta-code-function title="Permanent link">#</a></h4> <table> <thead> <tr> <th align=left>Name</th> <th align=left>Type</th> <th align=left>Required</th> <th align=left>Description</th> </tr> </thead> <tbody> <tr> <td align=left>title</td> <td align=left>text</td> <td align=left>Yes</td> <td align=left>The title of an intangible creation.</td> </tr> <tr> <td align=left>extra</td> <td align=left>text</td> <td align=left>No</td> <td align=left>An optional short statement that distinguishes this intangible creation from another one for forced Meta-Code uniqueness. (default: empty string)</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The basic metadata inputs are intentionally simple and generic. We abstain from more specific metadata for Meta-Code generation in favor of compatibility across industries. To support global clustering, it is <strong>RECOMMENDED</strong> to <strong>only supply the title field</strong> for Meta-Code generation. Imagine a <em>creator</em> input-field for metadata. Who would you list as the creators of a movie? The directors, writers, the main actors? Would you list some of them or if not how do you decide whom you will list. Global disambiguation of similar title data can be accomplished with the extra-field. Industry- and application-specific metadata requirements can be met by <a href=#extended-metadata>extended metadata</a>.</p> </div> <h4 id=generate-meta-code>Generate Meta-Code<a class=headerlink href=#generate-meta-code title="Permanent link">#</a></h4> <p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application must follow these steps in the given order to produce a stable Meta-Code:</p> <ol> <li>Apply <a href=#text_normalize><code>text_normalize</code></a> separately to the <code>title</code> and <code>extra</code> inputs while keeping white space.</li> <li>Apply <a href=#text_trim><code>text_trim</code></a> to the results of the previous step. <em>The results of this step MUST be supplied as basic metadata for <abbr title="International Standard Content Code">ISCC</abbr> registration.</em></li> <li>Concatenate trimmed <code>title</code> and <code>extra</code> from using a space ( <code>\u0020</code>) as a separator. Remove leading/trailing whitespace.</li> <li>Create a list of 4 <abbr title="A character is defined as one Unicode code point">character</abbr> <a href=https://en.wikipedia.org/wiki/N-gram>n-grams</a> by sliding <abbr title="A character is defined as one Unicode code point">character</abbr>-wise through the result of the previous step.</li> <li>Encode each n-gram from the previous step to an UTF-8 bytestring and calculate its <a href=http://cyan4973.github.io/xxHash/ >xxHash64</a> digest.</li> <li>Apply <a href=#similarity_hash><code>similarity_hash</code></a> to the list of digests from the previous step.</li> <li>Prepend the 1-byte component header (<code>0x00</code>) to the results of the previous step.</li> <li>Encode the resulting 9 byte sequence with <a href=#encode><code>encode</code></a></li> <li>Return encoded Meta-Code, trimmed <code>title</code> and trimmed <code>extra</code> data.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L19>Meta-Code reference code</a></p> <div class="admonition warning"> <p class=admonition-title>Text trimming</p> <p>When trimming text be sure to trim the byte-length of the UTF-8 encoded version and not the number of characters. The trim point MUST be such that it does not cut into multi-byte characters. Characters might have different UTF-8 byte-length. For example <code>ü</code> is 2-bytes, <code>驩</code> is 3-bytes and <code>𠜎</code> is 4-bytes. So the trimmed version of a string with 128 <code>驩</code>-characters will result in a 42-<abbr title="A character is defined as one Unicode code point">character</abbr> string with a 126-byte UTF-8 encoded length. This is necessary because the results of this operation will be stored as basic metadata with strict byte size limits on the blockchain.</p> </div> <div class="admonition note"> <p class=admonition-title>Automated Data-Ingestion</p> <p>Applications that perform automated data-ingestion SHOULD apply a customized preliminary normalization to title data tailored to the dataset. Depending on catalog data removing pairs of brackets [], (), {}, and text in between them or cutting all text after the first occurence of a semicolon (;) or colon (:) can vastly improve deduplication.</p> </div> <h4 id=dealing-with-meta-code-collisions>Dealing with Meta-Code collisions<a class=headerlink href=#dealing-with-meta-code-collisions title="Permanent link">#</a></h4> <p>Ideally we want multiple ISCCs that identify different manifestations of the <em>same intangible creation</em> to be automatically grouped by an identical leading Meta-Code component. We call such a natural grouping an <strong>intended component collision</strong>. Metadata, captured and edited by humans, is notoriously unreliable. By using normalization and a similarity hash on the metadata, we account for some of this variation while keeping the Meta-Code component somewhat stable.</p> <p>Auto-generated Meta-Codes components are <strong>expected</strong> to miss some intended collisions. An application SHOULD check for such <strong>missed intended component collisions</strong> before registering a new Meta-Code with the <em>canonical registry</em> of ISCCs by conducting a similarity search and asking for user feedback.</p> <p>But what about <strong>unintended component collisions</strong>? Such collisions might happen because two <em>different intangible creations</em> have very similar or even identical metadata. But they might also happen by chance. With 2^56 possible Meta-Code components the probability of random collisions rises in an S-curved shape with the number of deployed ISCCs (see: <a href=http://preshing.com/20110504/hash-collision-probabilities/ >Hash Collision Probabilities</a>). We should keep in mind that the Meta-Code component is only one part of a fully qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr>. Unintended collisions of the Meta-Code component are generally deemed as <strong>acceptable and expected</strong>.</p> <p>If for any reason an application wants to avoid unintended collisions with pre-existing Meta-Code components, it may use the <code>extra</code>-field. An application MUST first generate a Meta-Code without asking the user for input to the <code>extra</code>-field and then first check for collisions with the <em>canonical registry</em> of ISCCs. After it finds a collision with a pre-existing Meta-Code it may display the metadata of the colliding entry and interact with the user to determine if it is an unintended collision. Only if the user indicates an unintended collision, may the application ask for a disambiguation that is then added as an amendment to the metadata via the <code>extra</code>-field to create a different Meta-Code component. The application may repeat the pre-existence check until it finds no collision or a user intended collision. The application MUST NOT supply auto-generated input to the <code>extra</code>-field.</p> <p>It is our opinion that the concept of <strong>intended collisions</strong> of Meta-Code components is a useful concept and a net positive. But one must know that this characteristic also has its pitfalls. It is not an attempt to provide an unambiguous - agreed upon - definition of <em>"identical intangible creations"</em>.</p> <h3 id=content-code-component>Content-Code Component<a class=headerlink href=#content-code-component title="Permanent link">#</a></h3> <p>The Content-Code component has multiple subtypes. The subtypes correspond with the <strong>Generic Media Types (<abbr title="Generic Media Type">GMT</abbr>)</strong>. A fully qualified <abbr title="International Standard Content Code">ISCC</abbr> can only have one Content-Code component of one specific <abbr title="Generic Media Type">GMT</abbr>, but there may be multiple ISCCs with different Content-Code types per digital media object.</p> <p>A Content-Code is generated in two broad steps. In the first step, we extract and convert content from a rich media type to a normalized <abbr title="Generic Media Type">GMT</abbr>. In the second step, we use a <abbr title="Generic Media Type">GMT</abbr>-specific process to generate the Content-Code component of an <abbr title="International Standard Content Code">ISCC</abbr>.</p> <h4 id=generic-media-types>Generic Media Types<a class=headerlink href=#generic-media-types title="Permanent link">#</a></h4> <p>The Content-Code type is signaled by the first 3 bits of the second nibble of the first byte of the Content-Code:</p> <table> <thead> <tr> <th align=left>Content-Code Type</th> <th align=left>Nibble 2 Bits 0-3</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td align=left>text</td> <td align=left>000</td> <td>Generated from extracted and normalized plain-text</td> </tr> <tr> <td align=left>image</td> <td align=left>001</td> <td>Generated from normalized grayscale pixel data</td> </tr> <tr> <td align=left><em>audio</em></td> <td align=left><em>010</em></td> <td>To be defined in a later version of the specification</td> </tr> <tr> <td align=left><em>video</em></td> <td align=left><em>011</em></td> <td>To be defined in a later version of the specification</td> </tr> <tr> <td align=left>mixed</td> <td align=left>100</td> <td>Generated from multiple Content-Codes</td> </tr> <tr> <td align=left></td> <td align=left>101, 110, 111</td> <td>Reserved for future versions of specification</td> </tr> </tbody> </table> <h4 id=content-code-text>Content-Code-Text<a class=headerlink href=#content-code-text title="Permanent link">#</a></h4> <p>The Content-Code-Text is built from the extracted plain-text content of an encoded media object. To build a stable Content-Code-Text the plain-text content must first be extracted from the digital media object. It should be extracted in a way that is reproducible. There are many text document formats out in the wild and extracting plain-text from all of them is anything but a trivial task. While text-extraction is out of scope for this specification it is RECOMMENDED, that plain-text content SHOULD be extracted with the open-source <a href=https://tika.apache.org/ >Apache Tika v1.23</a> toolkit, if a generic reproducibility of the Content-Code-Text component is desired.</p> <p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>content_id(text, partial=False)</code> function that accepts UTF-8 encoded plain text and a boolean, indicating the <a href=#partial-content-flag-pcf>partial content flag</a> as input and returns a Content-Code with <abbr title="Generic Media Type">GMT</abbr> type <code>text</code>. The procedure to create a Content-Code-Text is:</p> <ol> <li>Apply <a href=#text_normalize><code>text_normalize</code></a> to the text input while removing white-space.</li> <li>Create <abbr title="A character is defined as one Unicode code point">character</abbr>-wise n-grams of length 13 from the normalized text.</li> <li>Create a list of 32-bit unsigned integer features by applying <a href=http://cyan4973.github.io/xxHash/ >xxHash32</a> to the results of the previous step.</li> <li>Apply <a href=#minimum_hash><code>minimum_hash</code></a> to the list of features from the previous step with n=64.</li> <li>Collect the least significant bits from the 64 MinHash features from the previous step.</li> <li>Create a 64-bit digest from the collected bits.</li> <li>Prepend the 1-byte component header (<code>0x10</code> full content or <code>0x11</code> partial content).</li> <li>Encode and return the resulting 9-byte sequence with <a href=#encode><code>encode</code></a>.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L54>Content-Code-Text reference code</a></p> <h4 id=content-code-image>Content-Code-Image<a class=headerlink href=#content-code-image title="Permanent link">#</a></h4> <p>For the Content-Code-Image we are opting for a DCT-based perceptual image-hash instead of a more sophisticated key-point detection based method. In view of the generic deployability of the <abbr title="International Standard Content Code">ISCC</abbr> we chose an algorithm that has moderate computation requirements and is easy to implement while still being robust against common image manipulations.</p> <p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>content_id_image(image, partial=False)</code> function that accepts a local file path to an image and returns a Content-Code with <abbr title="Generic Media Type">GMT</abbr> type <code>image</code>. The procedure to create a Content-Code-Image is as follows:</p> <ol> <li>Apply <a href=#image_normalize><code>image_normalize</code></a> to receive a two-dimensional array of gray-scale pixel data.</li> <li>Apply <a href=#image_hash><code>image_hash</code></a> to the results of the previous step.</li> <li>Prepend the 1-byte component header (<code>0x12</code> full content or <code>0x13</code> partial content) to results of the previous step.</li> <li>Encode and return the resulting 9-byte sequence with <a href=#encode><code>encode</code></a></li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L81>Content-Code-Image reference code</a></p> <div class="admonition note"> <p class=admonition-title>Image Data Input</p> <p>The <code>content_id_image</code> function may optionally accept the raw byte data of an encoded image or an internal native image object as input for convenience.</p> </div> <div class="admonition warning"> <p class=admonition-title>JPEG Decoding</p> <p>Decoding of JPEG images is non deterministic. Different image processing libraries may yield diverging pixel data and result in different Image-IDs. The reference implementation uses the built-in decoder of the <a href=https://github.com/python-pillow/Pillow>Python Pillow</a> imaging library. Future versions of the <abbr title="International Standard Content Code">ISCC</abbr> specification may define a custom deterministic JPEG decoding procedure.</p> </div> <h4 id=content-code-mixed>Content-Code-Mixed<a class=headerlink href=#content-code-mixed title="Permanent link">#</a></h4> <p>The Content-Code-Mixed aggregates multiple Content-Codes of the same or different types. It may be used for digital media objects that embed multiples types of media or for collections of contents of the same type. First, we have to collect contents from the mixed media object or content collection and generate Content-Codes for each item. An <abbr title="International Standard Content Code">ISCC</abbr> conforming application must provide a <code>content_id_mixed</code> function that takes a list of Content-Code Codes as input and returns a Content-Code-Mixed. Follow these steps to create a Content-Code-Mixed:</p> <p>Signature: <code>conent_id_mixed(cids: List[str], partial: bool=False) -&gt; str</code></p> <ol> <li>Decode the list of Content-Codes.</li> <li>Extract the <strong>first 8-bytes</strong> from each digest (<strong>Note</strong>: this includes the header part of the Content-Codes).</li> <li>Apply <a href=#similarity_hash><code>similarity_hash</code></a> to the list of digests from step 2.</li> <li>Prepend the 1-byte component header(<code>0x18</code> full content or <code>0x19</code> partial content)</li> <li>Apply <a href=#encode><code>encode</code></a> to the result of step 5 and return the result.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L102>Content-Code-Mixed reference code</a></p> <h4 id=partial-content-flag-pcf>Partial Content Flag (<abbr title="Partial Content Flag">PCF</abbr>)<a class=headerlink href=#partial-content-flag-pcf title="Permanent link">#</a></h4> <p>The last bit of the header byte of the Content-Code is the "Partial Content Flag". It designates if the Content-Code applies to the full content, or just some part of it. The <abbr title="Partial Content Flag">PCF</abbr> MUST be set as a <code>0</code>-bit (<strong>full <abbr title="Generic Media Type">GMT</abbr>-specific content</strong>) by default. Setting the <abbr title="Partial Content Flag">PCF</abbr> to <code>1</code> enables applications to create multiple linked ISCCs of partial extracts of a content collection. The exact semantics of <em>partial content</em> are outside of the scope of this specification. Applications that plan to support partial Content-Codes MUST define their semantics.</p> <p><img alt="Partial Contant Flag" src=../images/iscc-pcf.svg></p> <div class="admonition example"> <p class=admonition-title><abbr title="Partial Content Flag">PCF</abbr> Linking Example</p> <p>Let's assume we have a single newspaper issue "The Times - 03 Jan 2009". You would generate one Meta-Code component with the title "The Times" and extra "03 Jan 2009". The resulting Meta-Code component will be the grouping prefix in this scenario.</p> <p>We use a Content-Code-Mixed with <abbr title="Partial Content Flag">PCF</abbr> <code>0</code> (not partial) for the <abbr title="International Standard Content Code">ISCC</abbr> of the newspaper issue. We generate Data-Code and Instance-Code from the print PDF of the newspaper issue.</p> <p>To create an <abbr title="International Standard Content Code">ISCC</abbr> for a single extracted image that should convey context with the newspaper issue, we reuse the Meta-Code of the newspaper issue and create a Content-Code-Image with <abbr title="Partial Content Flag">PCF</abbr> <code>1</code> (partial to the newspaper issue). For the Data-Code or Instance-Code of the image, we are free to choose if we reuse those of the newspaper issue or create separate ones. The former would express strong specialization of the image to the newspaper issue (not likely to be useful out of context). The latter would create a stronger link to an eventual standalone <abbr title="International Standard Content Code">ISCC</abbr> of the image. Note that the <abbr title="International Standard Content Code">ISCC</abbr> of the individual image keeps links in both ways:</p> <ul> <li>Image is linked to the newspaper issue by identical Meta-Code component</li> <li>Image is linked to the standalone version of the image by identical Content-Code-Image body</li> </ul> <p>This is just one example that illustrates the flexibility that the <abbr title="Partial Content Flag">PCF</abbr>-Flag provides in concert with a grouping Meta-Code. With great flexibility comes great danger of complexity. Applications SHOULD do careful planning before using the <abbr title="Partial Content Flag">PCF</abbr>-Flag with internally defined semantics.</p> </div> <h3 id=data-code-component>Data-Code Component<a class=headerlink href=#data-code-component title="Permanent link">#</a></h3> <p>For the Data-Code that encodes data similarity we use a content defined chunking algorithm that provides some shift resistance and calculate the MinHash from those chunks. To accommodate for small files, the first 100 chunks have a ~140-byte size target while the remaining chunks target ~ 6kb in size.</p> <p>The Data-Code is built from the raw encoded data of the content to be identified. An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>data_id</code> function that accepts the raw encoded data as input.</p> <h4 id=generate-data-code>Generate Data-Code<a class=headerlink href=#generate-data-code title="Permanent link">#</a></h4> <ol> <li>Apply <a href=#data_chunks><code>data_chunks</code></a> to the raw encoded content data.</li> <li>For each chunk, calculate the xxHash32 integer hash.</li> <li>Apply <a href=#minimum_hash><code>minimum_hash</code></a> to the resulting list of 32-bit unsigned integers with n=64.</li> <li>Collect the least significant bits from the 64 MinHash features.</li> <li>Create a 64-bit digest from the collected bits.</li> <li>Prepend the 1-byte component header (eg. 0x20).</li> <li>Apply <a href=#encode><code>encode</code></a> to the result of step 6 and return the result.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L123>Data-Code reference code</a></p> <h3 id=instance-code-component>Instance-Code Component<a class=headerlink href=#instance-code-component title="Permanent link">#</a></h3> <p>The Instance-Code is built from the raw data of the media object to be identified and serves as checksum for the media object. The raw data of the media object is split into 64-kB data-chunks. Then we build a hash-tree from those chunks and use the truncated <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr> (Merkle root) as component-body of the Instance-Code.</p> <p>To guard against length-extension attacks and second preimage attacks, we use double sha256 for hashing. We also prefix the hash input data with a <code>0x00</code>-byte for the leaf nodes hashes and with a <code>0x01</code>-byte for the internal node hashes. While the Instance-Code itself is a non-cryptographic checksum, the full <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr> may be supplied in the extended metadata of an <abbr title="International Standard Content Code">ISCC</abbr> secure integrity verification is required.</p> <p><img alt=iscc-creation-Instance-Code src=../images/iscc-creation-instance-code.svg></p> <p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>instance_id</code> function that accepts the raw data file as input and returns an encoded Instance-Code and a full hex-encoded 256-bit <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr>.</p> <h4 id=generate-instance-code>Generate Instance-Code<a class=headerlink href=#generate-instance-code title="Permanent link">#</a></h4> <ol> <li>Split the raw bytes of the encoded media object into 64-kB chunks.</li> <li>For each chunk, calculate the <abbr title="Double SHA256">sha256d</abbr> of the concatenation of a <code>0x00</code>-byte and the chunk bytes. We call the resulting values <em>leaf node hashes</em> (<abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr>).</li> <li>Calculate the next level of the hash tree by applying <abbr title="Double SHA256">sha256d</abbr> to the concatenation of a <code>0x01</code>-byte and adjacent pairs of <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> values. If the length of the list of <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> values is uneven, concatenate the last <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> value with itself. We call the resulting values <em>internal node hashes</em> (<abbr title="Internal Node Hash - A hash of concatenated hashes in a hash-tree.">INH</abbr>).</li> <li>Recursively apply <code>0x01</code>-prefixed pair-wise hashing to the results of the last step until the process yields only one hash value. We call this value the <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr>.</li> <li>Trim the resulting <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr> to the first 8 bytes.</li> <li>Prepend the 1-byte component header (e.g. <code>0x30</code>).</li> <li>Encode resulting 9-byte sequence with <a href=#encode><code>encode</code></a> to an Instance-Code Code</li> <li>Hex-Encode the <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr></li> <li>Return the Instance-Code and the hex-encoded <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr></li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L144>Instance-Code reference code</a></p> <p>Applications may carry, store, and process the leaf node hashes for advanced streaming data identification or partial data integrity verification.</p> <h2 id=iscc-metadata><abbr title="International Standard Content Code">ISCC</abbr> Metadata<a class=headerlink href=#iscc-metadata title="Permanent link">#</a></h2> <p>As a generic content identifier, the <abbr title="International Standard Content Code">ISCC</abbr> makes minimal assumptions about metadata that must or should be supplied together with an <abbr title="International Standard Content Code">ISCC</abbr>. The RECOMMENDED data-interchange format for <abbr title="International Standard Content Code">ISCC</abbr> metadata is <a href=https://www.json.org/ >JSON</a>. We distinguish between <strong>Basic Metadata</strong> and <strong>Extended Metadata</strong>:</p> <h3 id=basic-metadata>Basic Metadata<a class=headerlink href=#basic-metadata title="Permanent link">#</a></h3> <p>Basic metadata for an <abbr title="International Standard Content Code">ISCC</abbr> is metadata that is explicitly defined by this specification. The following table enumerates basic metadata fields for the top-level of the JSON metadata object:</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Required</th> <th>Bound</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>version</td> <td>integer</td> <td>No</td> <td>No</td> <td>Version of <abbr title="International Standard Content Code">ISCC</abbr> Specification. Assumed to be 1 if omitted.</td> </tr> <tr> <td>title</td> <td>text</td> <td>Yes</td> <td>Yes</td> <td>The title of an intangible creation identified by the <abbr title="International Standard Content Code">ISCC</abbr>. The normalized and trimmed UTF-8 encoded text MUST not exceed 128 bytes. The result of processing <code>title</code> and <code>extra</code> data with the <code>meta_id</code> function MUST match the Meta-Code component of the <abbr title="International Standard Content Code">ISCC</abbr>.</td> </tr> <tr> <td>extra</td> <td>text</td> <td>No</td> <td>Yes</td> <td>An optional short statement that distinguishes this intangible creation from another one for Meta-Code uniqueness.</td> </tr> <tr> <td><abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr></td> <td>text (hex)</td> <td>No</td> <td>No</td> <td>The full hex-encoded <abbr title="Root hash of an Instance-Code hash-tree">tophash</abbr> (Merkle root) returned by the <code>instance_id</code> function.</td> </tr> <tr> <td>meta</td> <td>array</td> <td>No</td> <td>No</td> <td>A list of one or more <strong>extended metadata</strong> entries. Must include at least one entry if specified.</td> </tr> </tbody> </table> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p><strong>Bound</strong> metadata impacts the <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr> (Meta-Code) and cannot be changed afterwards. Depending on adoption and real world use, future versions of this specification may define new basic metadata fields. Applications MAY add custom fields at the top level of the JSON object, but MUST prefix those fields with an underscore to avoid collisions with future extensions of this specification.</p> </div> <h3 id=extended-metadata>Extended Metadata<a class=headerlink href=#extended-metadata title="Permanent link">#</a></h3> <p>Extended metadata for an <abbr title="International Standard Content Code">ISCC</abbr> is metadata that is not explicitly defined by this specification. All such metadata SHOULD be supplied as JSON objects within the top-level <code>meta</code>-array field. This allows for a flexible and extendable way to supply additional industry specific metadata about the identified content.</p> <p>Extended metadata entries MUST be wrapped in JSON object of the following structure:</p> <table> <thead> <tr> <th>Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>schema</td> <td>The <code>schema</code>-field may indicate a well-known metadata schema (such as Dublin Core, IPTC, ID3v2, ONIX) that is used. RECOMMENDED <code>schema</code>: "<a href=http://schema.org/ >schema.org</a>"</td> </tr> <tr> <td>mediatype</td> <td>The <code>mediatype</code>-field specifies an <a href=https://www.iana.org/assignments/media-types/media-types.xhtml>IANA Media Type</a>. RECOMMENDED <code>mediatype</code>: "application/ld+json"</td> </tr> <tr> <td>url</td> <td>An URL that is expected to host the metadata with the indicated <code>schema</code> and <code>mediatype</code>. This field is only required if the <code>data</code>-field is omitted.</td> </tr> <tr> <td>data</td> <td>The <code>data</code>-field holds the metadata conforming to the indicated <code>schema</code> and <code>mediatype.</code> It is only required if the <code>url</code> field is omitted.</td> </tr> </tbody> </table> <h2 id=iscc-registration><abbr title="International Standard Content Code">ISCC</abbr> Registration<a class=headerlink href=#iscc-registration title="Permanent link">#</a></h2> <p>The <abbr title="International Standard Content Code">ISCC</abbr> is a decentralized identifier. ISCCs can be generated for content by anybody who has access to the content. Because of the clustering properties of its components, the <abbr title="International Standard Content Code">ISCC</abbr> provides utility in data interchange and de-duplication scenarios even without a global registry. There is no central authority for the registration of <abbr title="International Standard Content Code">ISCC</abbr> codes or certification of content authorship.</p> <p>As an open system, the <abbr title="International Standard Content Code">ISCC</abbr> allows any person or organization to offer <abbr title="International Standard Content Code">ISCC</abbr> registration services as they see fit and without the need to ask anyone for permission. This also presumes that no person or organization may claim exclusive authority about <abbr title="International Standard Content Code">ISCC</abbr> registration.</p> <h3 id=blockchain-registry>Blockchain Registry<a class=headerlink href=#blockchain-registry title="Permanent link">#</a></h3> <p>To properly address the questions of identifier uniqueness, ownership and authentication within the <abbr title="International Standard Content Code">ISCC</abbr> Standard, the assignment of a set of canonical blockchain is a requirement. The distributed nature of blockchains are a perfect fit for long-term persistent identifier registration and resolver services.</p> <p><strong>The assignment of a set of canonical blockchains is NOT YET part of this specification.</strong></p> <p>Because this decision is of such vital importance, we suggest waiting for further feedback and additional community involvement before we address these questions either in an updated version of this specification or in a separate specification.</p> <p>Our recommendation to the community is to agree on a set of decentralized, open, and public blockchains that have specific support for registry-services. This would maximize the value for all participants in the ecosystem. Governance and protocol related questions are being worked on by many projects.</p> <p>See also: <a href=https://coblo.github.io/cips/cip-0003-iscc/ ><abbr title="International Standard Content Code">ISCC</abbr>-Stream specification</a>.</p> <h2 id=iscc-embedding><abbr title="International Standard Content Code">ISCC</abbr> Embedding<a class=headerlink href=#iscc-embedding title="Permanent link">#</a></h2> <p>Embedding <abbr title="International Standard Content Code">ISCC</abbr> codes into content is only RECOMMENDED if it does not create a side effect. We call it a side effect if embedding an <abbr title="International Standard Content Code">ISCC</abbr> code changes the content to such an extent, that it yields a different <abbr title="International Standard Content Code">ISCC</abbr> code.</p> <p>Side effects will depend on the combination of <abbr title="International Standard Content Code">ISCC</abbr> components that are to be embedded. A Meta-Code can always be embedded without side effects because it does not depend on the content itself. Content-Code and Data-Code may not change if embedded in larger media objects. Instance-Codes cannot easily be embedded as they will inevitably have a side effect on the post-embedding Instance-Code without special processing.</p> <p>Applications MAY embed <abbr title="International Standard Content Code">ISCC</abbr> codes that have side effects if they specify a procedure by which the embedded <abbr title="International Standard Content Code">ISCC</abbr> codes can be stripped in such a way that the stripped content will yield the original embedded <abbr title="International Standard Content Code">ISCC</abbr> codes.</p> <div class="admonition example"> <p class=admonition-title><abbr title="International Standard Content Code">ISCC</abbr> Embedding</p> <p>We can embed the following combination of components from the <a href=https://github.com/iscc/iscc-specs/edit/master/docs/specification.md>markdown version</a> of this document into the document itself because adding or removing them has no side effect:</p> <p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDbMYw6NfC8a-CTtW9UFozcmBJ-CDYJsRdBNAERM</p> </div> <h2 id=iscc-uri-scheme><abbr title="International Standard Content Code">ISCC</abbr> URI Scheme<a class=headerlink href=#iscc-uri-scheme title="Permanent link">#</a></h2> <div class="admonition note"> <p class=admonition-title>Provisional Section</p> <p>The <abbr title="International Standard Content Code">ISCC</abbr> URI Scheme and link-resolver details ultimately depend on identifier registration, ownership, uniqueness and governance related decisions which are not yet part of this specification. See also: <a href=#blockchain-registry>Blockchain Registry</a>.</p> </div> <p>The purpose of the <abbr title="International Standard Content Code">ISCC</abbr> URI scheme based on <a href=https://www.ietf.org/rfc/rfc3986.txt>RFC 3986</a> is to enable users to discover information like metadata or license offerings from an <abbr title="International Standard Content Code">ISCC</abbr> marked content by clicking a link on a webpage or by scanning a QR-Code.</p> <p>The scheme name is <code>iscc</code>. The path component MUST be a fully qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr> without hyphens. An optional <code>stream</code> query key MAY indicate the blockchain stream information source. If the <code>stream</code> query key is omitted, applications SHOULD return information from the open <a href=https://coblo.github.io/cips/cip-0003-iscc/ ><abbr title="International Standard Content Code">ISCC</abbr> Stream</a>.</p> <p>The scheme name component ("iscc:") is case-insensitive. Applications MUST accept any combination of uppercase and lowercase letters in the scheme name. All other URI components are case-sensitive.</p> <p>Applications MAY register themselves as a handler for the "iscc:" URI scheme if no other handler is already registered. If another handler is already registered, an application MAY ask the user to change it on the first run of the application.</p> <h3 id=uri-syntax>URI Syntax<a class=headerlink href=#uri-syntax title="Permanent link">#</a></h3> <p><code>&lt;foo&gt;</code> means placeholder, <code>[bar]</code> means optional.</p> <div class=highlight><pre><span></span><code>iscc:&lt;fq-iscc-code&gt;[?stream=&lt;name&gt;]
</code></pre></div> <h3 id=uri-example>URI Example<a class=headerlink href=#uri-example title="Permanent link">#</a></h3> <div class=highlight><pre><span></span><code>iscc:11TcMGvUSzqoM1CqVA3ykFawyh1R1sH4Bz8A1of1d2Ju4VjWt26S?stream=smart-license
</code></pre></div> <h2 id=procedures-algorithms>Procedures &amp; Algorithms<a class=headerlink href=#procedures-algorithms title="Permanent link">#</a></h2> <h3 id=base58-iscc>Base58-<abbr title="International Standard Content Code">ISCC</abbr><a class=headerlink href=#base58-iscc title="Permanent link">#</a></h3> <p>The <abbr title="International Standard Content Code">ISCC</abbr> uses a custom per-component data encoding similar to the <a href=https://github.com/simplegeo/zbase62>zbase62</a> encoding by <a href=https://en.wikipedia.org/wiki/Zooko_Wilcox-O%27Hearn>Zooko Wilcox-O'Hearn</a> but with a 58-<abbr title="A character is defined as one Unicode code point">character</abbr> symbol table. The encoding does not require padding and will always yield component codes of 13 characters length for 72-bit component digests. The predictable size of the encoding is a property that allows for easy composition and decomposition of components without having to rely on a delimiter (hyphen) in the <abbr title="International Standard Content Code">ISCC</abbr> code representation. Colliding body segments of the digest are preserved by encoding the header and body separately. The ASCII symbol table also minimizes transcription and OCR errors by omitting the easily confused characters <code>'O', '0', 'I', 'l'</code> and is shuffled to generate human readable component headers.</p> <div class="admonition note"> <p class=admonition-title>Symbol table</p> <p><code>SYMBOLS = "C23456789rB1ZEFGTtYiAaVvMmHUPWXKDNbcdefghLjkSnopRqsJuQwxyz"</code></p> </div> <h4 id=encode>encode<a class=headerlink href=#encode title="Permanent link">#</a></h4> <p>Signature: <code>encode(digest: bytes) -&gt; str</code></p> <p>The <code>encode</code> function accepts a 9-byte <strong><abbr title="International Standard Content Code">ISCC</abbr> Component Digest</strong> and returns the Base58-<abbr title="International Standard Content Code">ISCC</abbr> encoded alphanumeric string of 13 characters, which we call the <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Code</strong>.</p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L476>Base-<abbr title="International Standard Content Code">ISCC</abbr> Encoding reference code</a></p> <h4 id=decode>decode<a class=headerlink href=#decode title="Permanent link">#</a></h4> <p>Signature: decode(code: str) -&gt; bytes</p> <p>the <code>decode</code> function accepts a 13-<abbr title="A character is defined as one Unicode code point">character</abbr> <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Code</strong> and returns the corresponding 9-byte <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Digest</strong>.</p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L496>Base-<abbr title="International Standard Content Code">ISCC</abbr> Decoding reference code</a></p> <h3 id=content-normalization>Content Normalization<a class=headerlink href=#content-normalization title="Permanent link">#</a></h3> <p>The <abbr title="International Standard Content Code">ISCC</abbr> standardizes some content normalization procedures to support reproducible and stable identifiers. Following the list of normalization functions that MUST be provided by a conforming implementation.</p> <h4 id=text_trim>text_trim<a class=headerlink href=#text_trim title="Permanent link">#</a></h4> <p>Signature: <code>text_trim(text: str) -&gt; str</code></p> <p>Trim text such that its UTF-8 encoded byte representation does not exceed 128-bytes each. Remove leading and trailing whitespace.</p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L175>Text trimming reference code</a></p> <h4 id=text_normalize>text_normalize<a class=headerlink href=#text_normalize title="Permanent link">#</a></h4> <p>Signature: <code>text_normalize(text: str, keep_ws: bool = False) -&gt; str</code></p> <p>We define a text normalization function that is specific to our application. It takes text and an optional boolean <code>keep_ws</code> parameter as an input and returns <em>normalized</em> Unicode text for further algorithmic processing. The <code>text_normalize</code> function performs the following operations in the given order while each step works with the results of the previous operation:</p> <ol> <li>Decode to native Unicode if the text is a byte string</li> <li>Remove leading and trailing whitespace</li> <li>Transform text to lowercase</li> <li>Decompose the lower case text by applying <a href=http://www.unicode.org/reports/tr15/#Norm_Forms>Unicode Normalization Form D (NFD)</a>.</li> <li>Filter out all characters that fall into the Unicode categories listed in the constant <code>UNICODE_FILTER</code>. Keep these control characters (Cc) that are commonly considered white-space:<ul> <li><code>\u0009</code>, # Horizontal Tab (TAB)</li> <li><code>\u000A</code>, # Linefeed (LF)</li> <li><code>\u000D</code>, # Carriage Return (CR)</li> </ul> </li> <li>Keep or remove whitespace depending on the <code>keep_ws</code> parameter</li> <li>Re-Combine the text by applying <code>Unicode Normalization Form KC (NFKC)</code>.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L180>Text normalization reference code</a></p> <h4 id=image_normalize>image_normalize<a class=headerlink href=#image_normalize title="Permanent link">#</a></h4> <p>Signature: <code>image_normalize(img) -&gt; List[List[int]]</code></p> <p>Accepts a file path, byte-stream or raw binary image data and MUST at least support JPEG, PNG, and GIF image formats. Normalize the image with the following steps:</p> <ol> <li>Convert the image to grayscale</li> <li>Resize the image to 32x32 pixels using <a href=https://en.wikipedia.org/wiki/Bicubic_interpolation>bicubic interpolation</a></li> <li>Create a 32x32 two-dimensional array of 8-bit gray-scale values from the image data</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L217>Image normalization reference code</a></p> <h3 id=feature-hashing>Feature Hashing<a class=headerlink href=#feature-hashing title="Permanent link">#</a></h3> <p>The <abbr title="International Standard Content Code">ISCC</abbr> standardizes various feature hashing algorithms that reduce content features to a binary vector used as the body of the various Content-Code components.</p> <h4 id=similarity_hash>similarity_hash<a class=headerlink href=#similarity_hash title="Permanent link">#</a></h4> <p>Signature: <code>similarity_hash(hash_digests: Sequence[ByteString]) -&gt; bytes</code></p> <p>The <code>similarity_hash</code> function takes a sequence of hash digests that represent a set of features. Each of the digests MUST be of equal size. The function returns a new hash digest (raw 8-Bit bytes) of the same size. For each bit in the input-hashes calculate the number of hashes with that bit set and subtract the count of hashes where it is not set. For the output-hash set the same bit position to <code>0</code> if the count is negative or <code>1</code> if it is zero or positive. The resulting hash digest will retain similarity for similar sets of input hashes. See also <a href=http://dx.doi.org/10.1145/509907.509965 title="Charikar, M.S., 2002, May. Similarity estimation techniques from rounding algorithms. In Proceedings of the thirty-fourth annual ACM symposium on theory of computing (pp. 380-388). ACM.">[Charikar2002]</a>.</p> <p><img alt=iscc-similarity-hash src=../images/iscc-similarity-hash.svg></p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L239>Similarity hash reference code</a></p> <h4 id=minimum_hash>minimum_hash<a class=headerlink href=#minimum_hash title="Permanent link">#</a></h4> <p>Signature: <code>minimum_hash(features: Iterable[int], n: int = 64) -&gt; List[int]</code></p> <p>The <code>minimum_hash</code> function takes an arbitrary-sized set of 32-bit integer features and reduces it to a fixed size vector of <code>n</code> features such that it preserves similarity with other sets. It is based on the MinHash implementation of the <a href=https://ekzhu.github.io/datasketch/ >datasketch</a> library by <a href=https://github.com/ekzhu>Eric Zhu</a>.</p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L263>Minimum hash reference code</a></p> <h4 id=image_hash>image_hash<a class=headerlink href=#image_hash title="Permanent link">#</a></h4> <p>Signature: <code>image_hash(pixels: List[List[int]]) -&gt; bytes</code></p> <ol> <li>Perform a discrete cosine transform per row of input pixels.</li> <li>Perform a discrete cosine transform per column on the resulting matrix from step 2.</li> <li>Extract upper left 8x8 corner of the array from step 2 as a flat list.</li> <li>Calculate the median of the results from step 3.</li> <li>Create a 64-bit digest by iterating over the values of step 5 and setting a <code>1</code>- for values above median and <code>0</code> for values below or equal to the median.</li> <li>Return results from step 5.</li> </ol> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L274>Image hash reference code</a></p> <h3 id=content-defined-chunking>Content Defined Chunking<a class=headerlink href=#content-defined-chunking title="Permanent link">#</a></h3> <p>For shift resistant data chunking, the <abbr title="International Standard Content Code">ISCC</abbr> requires a custom chunking algorithm:</p> <h4 id=data_chunks>data_chunks<a class=headerlink href=#data_chunks title="Permanent link">#</a></h4> <p>Signature: <code>data_chunks(data: stream) -&gt; Iterator[bytes]</code></p> <p>The <code>data_chunks</code> function accepts a byte-stream and returns variable sized chunks. Chunk boundaries are determined by a gear based chunking algorithm based on <a href=http://dx.doi.org/10.1109/TC.2016.2595565 title="Wen Xia, Yukun Zhou, Hong Jiang, Yu Hua, Yuchong Hu, Yucheng Zhang, Qing Liu, 2016. FastCDC: a Fast and Efficient Content-Defined Chunking Approach for Data Deduplication.">[WenXia2016]</a>.</p> <p>See also: <a href=https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L334><abbr title="Content defined chunking">CDC</abbr> reference code</a></p> <h2 id=conformance-testing>Conformance Testing<a class=headerlink href=#conformance-testing title="Permanent link">#</a></h2> <p>An application that claims <abbr title="International Standard Content Code">ISCC</abbr> conformance MUST pass all required functions from the <abbr title="International Standard Content Code">ISCC</abbr> conformance test suite. The test suite is available as JSON data in our <a href=https://raw.githubusercontent.com/iscc/iscc-specs/master/tests/test_data.json>Github Repository</a>. Test data is structured as follows:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;&lt;function_name&gt;&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;&lt;test_name&gt;&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;inputs&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;&lt;value1&gt;&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;value2&gt;&quot;</span><span class=p>],</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;outputs&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;value1&gt;&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;value2&gt;&quot;</span><span class=p>]</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The test suite also contains data for functions that are considered implementation details and MAY be skipped by other implementations. Optional tests are marked as <code>"required": false</code>.</p> <p>Outputs that are expected to be raw bytes are embedded as HEX encoded strings in JSON and prefixed with <code>hex:</code> to support automated decoding during implementation testing.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>Byte outputs in JSON test data:</p> <div class=highlight><pre><span></span><code>{
  &quot;data_chunks&quot;: {
    &quot;test_001_cat_jpg&quot;: {
      &quot;inputs&quot;: [&quot;cat.jpg&quot;],
      &quot;outputs&quot;: [&quot;hex:ffd8ffe1001845786966000049492a0008&quot;, ...]
    }
  }
}
</code></pre></div> </div> <h2 id=license>License<a class=headerlink href=#license title="Permanent link">#</a></h2> <p>Copyright © 2016 - 2020 The Authors, Content Blockchain Project</p> <p><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ rel=license><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png></a><br>This work is licensed under a <a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ rel=license>Creative Commons (CC BY-NC-SA 4.0)</a>.</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2022-02-14 13:35:17</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../resources/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Resources" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Resources </div> </div> </a> <a href=../license/ class="md-footer__link md-footer__link--next" aria-label="Next: License" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> License </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2016-2022 The Authors | <a href=https://iscc.foundation/privacy>Privacy Policy</a> | <a href=https://iscc.foundation/cookies>Cookie Policy</a> | <a href=https://iscc.foundation/imprint>Imprint</a> | <a href=https://iscc.foundation/disclaimer>Disclaimer</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/iscc target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://t.me/iscc_dev target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769z"/></svg> </a> <a href=https://twitter.com/iscc_foundation target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.indexes", "navigation.tracking", "navigation.expand"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.092fa1f6.min.js"}</script> <script src=../assets/javascripts/bundle.5a9542cf.min.js></script> </body> </html>